---
/* Fictitious data for design preview */
const dummySong = {
  title: "Ti Aspetto",
  artist: "Ele A",
  albumArt: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Johann_Sebastian_Bach.jpg/640px-Johann_Sebastian_Bach.jpg",
  songUrl: "https://genius.com/Ele-a-ti-aspetto-lyrics",
  isPlaying: true
};
---


<!-- Old version
<div class="flex items-center gap-4 p-3 bg-base-200 border border-base-300 rounded-xl w-fit max-w-full shadow-sm hover:shadow-md transition-shadow duration-300">
  <div class="relative w-12 h-12 flex-shrink-0">
    <img 
      src={dummySong.albumArt} 
      alt="Album Art" 
      class="rounded-lg shadow-inner object-cover w-full h-full animate-pulse"
      style="animation-duration: 3s;"
    />
    <div class="absolute -bottom-1 -right-1 flex gap-0.5 bg-success p-1 rounded-full items-end h-4 w-4 justify-center">
      <div class="w-0.5 bg-white animate-[music-bar_0.8s_ease-in-out_infinite]"></div>
      <div class="w-0.5 bg-white animate-[music-bar_1.2s_ease-in-out_infinite]"></div>
      <div class="w-0.5 bg-white animate-[music-bar_1.0s_ease-in-out_infinite]"></div>
    </div>
  </div>

  <div class="flex flex-col overflow-hidden leading-tight">
    <span class="text-[10px] uppercase tracking-widest font-bold opacity-60">Currently Playing</span>
    <span class="text-sm font-bold truncate text-primary">{dummySong.title}</span>
    <span class="text-xs opacity-80 truncate">{dummySong.artist}</span>
  </div>
</div>

<style>
  /* Custom animation for the small bars */
  @keyframes music-bar {
    0%, 100% { height: 20%; }
    50% { height: 80%; }
  }
</style>


<div class="flex flex-col gap-1 px-2 py-4 border-t border-base-300">
  <div class="flex items-center gap-2 mb-1">
    <div class="flex gap-[2px] items-end h-3 w-3">
      <div class="w-[3px] bg-primary animate-[music-bar_0.8s_ease-in-out_infinite]"></div>
      <div class="w-[3px] bg-success animate-[music-bar_1.2s_ease-in-out_infinite]"></div>
      <div class="w-[3px] bg-success animate-[music-bar_1.0s_ease-in-out_infinite]"></div>
    </div>
    <span class="text-[10px] uppercase tracking-widest font-bold opacity-50">Now Playing</span>
  </div>

  <div class="flex flex-col min-w-0">
    <span class="text-sm font-medium truncate opacity-90 leading-tight">
      {dummySong.title}
    </span>
    <span class="text-xs opacity-60 truncate italic">
      {dummySong.artist}
    </span>
  </div>
</div>

<style>
  @keyframes music-bar {
    0%, 100% { height: 20%; }
    50% { height: 100%; }
  }
</style>

-->


{dummySong.isPlaying && (
  <a 
    href={dummySong.songUrl} 
    target="_blank" 
    rel="noopener noreferrer"
    class="group flex flex-col gap-0 px-2 py-4 border-t border-base-300 transition-all hover:bg-base-300/50"
    id="spotify-link"
  >
    <span class="text-[9px] uppercase tracking-[0.2em] font-bold opacity-40 mb-1">
      Now Playing
    </span>

    <div class="flex items-center justify-between gap-2 min-w-0">
        <div class="flex flex-col min-w-0 flex-1">
        <span class="text-sm font-semibold truncate text-base-content opacity-90 leading-tight">
            {dummySong.title}
        </span>
        <span class="text-[11px] opacity-60 truncate italic">
            {dummySong.artist}
        </span>
        </div>

        <div class="flex gap-[2px] items-end h-3 w-4 flex-shrink-0 mb-1">
        <div class="w-[2.5px] bg-primary animate-[music-bar_0.8s_ease-in-out_infinite]"></div>
        <div class="w-[2.5px] bg-primary animate-[music-bar_1.2s_ease-in-out_infinite]"></div>
        <div class="w-[2.5px] bg-primary animate-[music-bar_1.0s_ease-in-out_infinite]"></div>
        </div>
    </div>
    </div>
  </a>
)}

<style>
  @keyframes music-bar {
    0%, 100% { height: 25%; }
    50% { height: 100%; }
  }
</style>

<!--

{dummySong.isPlaying && (
  <div id="spotify-container" class="flex flex-col gap-0 px-2 py-4 border-t border-base-300 transition-opacity duration-500">
    <span class="text-[9px] uppercase tracking-[0.2em] font-bold opacity-40 mb-1">
      Now Playing
    </span>

    <div class="flex items-center justify-between gap-3 min-w-0">
      <div class="flex flex-col min-w-0 flex-1">
        <span class="text-sm font-semibold truncate text-base-content opacity-90 leading-tight">
          {dummySong.title}
        </span>
        <span class="text-[11px] opacity-60 truncate italic">
          {dummySong.artist}
        </span>
      </div>

      <div class="flex gap-[3px] items-end h-5 w-6 flex-shrink-0 mb-1">
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_0.8s_ease-in-out_infinite]"></div>
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_1.2s_ease-in-out_infinite]"></div>
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_1.0s_ease-in-out_infinite]"></div>
      </div>
    </div>
  </div>
)}

<style>
  @keyframes music-bar {
    0%, 100% { height: 20%; }
    50% { height: 100%; }
  }
</style>

{dummySong.isPlaying && (
  <a 
    href={dummySong.songUrl} 
    target="_blank" 
    rel="noopener noreferrer"
    class="group flex flex-col gap-0 px-2 py-4 border-t border-base-300 transition-all hover:bg-base-300/50"
    id="spotify-link"
  >
    <span class="text-[9px] uppercase tracking-[0.2em] font-bold opacity-40 mb-1">
      Now Playing
    </span>

    <div class="flex items-center justify-between gap-3 min-w-0">
      <div class="flex flex-col min-w-0 flex-1">
        <span class="text-sm font-semibold truncate text-base-content opacity-90 leading-tight group-hover:text-primary transition-colors">
          {dummySong.title}
        </span>
        <span class="text-[11px] opacity-60 truncate italic">
          {dummySong.artist}
        </span>
      </div>

      <div class="flex gap-[3px] items-end h-5 w-6 flex-shrink-0 mb-1">
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_0.8s_ease-in-out_infinite]"></div>
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_1.2s_ease-in-out_infinite] [animation-delay:-0.4s]"></div>
        <div class="w-[4px] bg-primary rounded-full animate-[music-bar_1.0s_ease-in-out_infinite] [animation-delay:-0.2s]"></div>
      </div>
    </div>
  </a>
)}

-->